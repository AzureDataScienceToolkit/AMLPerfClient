# AMLPerfClient


Simple script to stress test existing Azure Machine Learning (AML) service.

## Script syntax

<code>
    amlperfclient.py [-h] -api API -r R [-t T] [-s] sample_file

    Azure ML performance test tool

    positional arguments:
    sample_file  location of Python sample file generated by AML service

    optional arguments:
    -h, --help   show this help message and exit
    -api API     Azure ML API key
    -r R         number of requests to be generated
    -t T         number of threads (default=1)
    -s           silent mode (no info)
</code>

## How it works?
The main purpose of AMLPerfClient script is to test the performance of machine learning experiments, that have been exposed as AML web services. For now it supports Request/Response (RRS) API and is able to measure average request processing time (round trip), average response processing time (server-side) and total time of processing. It requires following parameters:

* <code>api</code> - Azure ML API key, unique to every published web service
* <code>sample file</code> - text file containing Python code snippets, available in RRS web service documentation. The script will use it to extract information about web service schema.
* <code>requests</code> number of requests to be generated

Optionally you may also define number of threads to be used (by default the request will be sent sequentially).

## Basic usage example

<code>	
	amlperfclient.py sample.txt -api [my_secret_key] -r 10 -t 2
	
	Total processing time 5.5 
	Mean req processing time: 77 ms
	Mean req response time: 8.44 ms
	# of succesful requests: 10
	# of errors: 0
	Error rate: 0.0%
	# of threads: 2
</code>